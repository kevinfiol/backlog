-- Up
CREATE TABLE User (
    userid   INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL UNIQUE,
    username TEXT    NOT NULL UNIQUE,
    password TEXT    NOT NULL,
    salt     TEXT    NOT NULL UNIQUE
);

CREATE TABLE List (
    listid  INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL UNIQUE,
    listname TEXT NOT NULL,
    slug TEXT NOT NULL,
    userid INTEGER NOT NULL,
    itemidOrder TEXT,
    date_created TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    date_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    FOREIGN KEY(userid) REFERENCES User(userid)
);

CREATE TABLE Item (
    itemid INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL UNIQUE,
    itemname TEXT NOT NULL,
    url TEXT,
    listid INTEGER NOT NULL,
    FOREIGN KEY(listid) REFERENCES List(listid)
);

-- Down
DROP TABLE User;
DROP TABLE List;
DROP TABLE Item;